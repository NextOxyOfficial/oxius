import{a6 as $,al as E,r as O,Q as x,x as z,am as B,P as F,E as R,a2 as P,an as V,h as H,W as K,ab as A,y as N,ao as _,V as J,ap as G,aq as Q,ar as X,X as Z}from"./DStkSF2J.js";import{h as Y,i as W}from"./8uu4DbCJ.js";function ee(e,r){if(typeof e!="string")throw new TypeError("argument str must be a string");const t={},a=r||{},o=a.decode||te;let n=0;for(;n<e.length;){const i=e.indexOf("=",n);if(i===-1)break;let c=e.indexOf(";",n);if(c===-1)c=e.length;else if(c<i){n=e.lastIndexOf(";",i-1)+1;continue}const y=e.slice(n,i).trim();if(a!=null&&a.filter&&!(a!=null&&a.filter(y))){n=c+1;continue}if(t[y]===void 0){let u=e.slice(i+1,c).trim();u.codePointAt(0)===34&&(u=u.slice(1,-1)),t[y]=ae(u,o)}n=c+1}return t}function te(e){return e.includes("%")?decodeURIComponent(e):e}function ae(e,r){try{return r(e)}catch{return e}}const T=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function L(e,r,t){const a=t||{},o=a.encode||encodeURIComponent;if(typeof o!="function")throw new TypeError("option encode is invalid");if(!T.test(e))throw new TypeError("argument name is invalid");const n=o(r);if(n&&!T.test(n))throw new TypeError("argument val is invalid");let i=e+"="+n;if(a.maxAge!==void 0&&a.maxAge!==null){const c=a.maxAge-0;if(Number.isNaN(c)||!Number.isFinite(c))throw new TypeError("option maxAge is invalid");i+="; Max-Age="+Math.floor(c)}if(a.domain){if(!T.test(a.domain))throw new TypeError("option domain is invalid");i+="; Domain="+a.domain}if(a.path){if(!T.test(a.path))throw new TypeError("option path is invalid");i+="; Path="+a.path}if(a.expires){if(!re(a.expires)||Number.isNaN(a.expires.valueOf()))throw new TypeError("option expires is invalid");i+="; Expires="+a.expires.toUTCString()}if(a.httpOnly&&(i+="; HttpOnly"),a.secure&&(i+="; Secure"),a.priority)switch(typeof a.priority=="string"?a.priority.toLowerCase():a.priority){case"low":{i+="; Priority=Low";break}case"medium":{i+="; Priority=Medium";break}case"high":{i+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(a.sameSite)switch(typeof a.sameSite=="string"?a.sameSite.toLowerCase():a.sameSite){case!0:{i+="; SameSite=Strict";break}case"lax":{i+="; SameSite=Lax";break}case"strict":{i+="; SameSite=Strict";break}case"none":{i+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return a.partitioned&&(i+="; Partitioned"),i}function re(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function b(e){if(typeof e!="object")return e;var r,t,a=Object.prototype.toString.call(e);if(a==="[object Object]"){if(e.constructor!==Object&&typeof e.constructor=="function"){t=new e.constructor;for(r in e)e.hasOwnProperty(r)&&t[r]!==e[r]&&(t[r]=b(e[r]))}else{t={};for(r in e)r==="__proto__"?Object.defineProperty(t,r,{value:b(e[r]),configurable:!0,enumerable:!0,writable:!0}):t[r]=b(e[r])}return t}if(a==="[object Array]"){for(r=e.length,t=Array(r);r--;)t[r]=b(e[r]);return t}return a==="[object Set]"?(t=new Set,e.forEach(function(o){t.add(b(o))}),t):a==="[object Map]"?(t=new Map,e.forEach(function(o,n){t.set(b(n),b(o))}),t):a==="[object Date]"?new Date(+e):a==="[object RegExp]"?(t=new RegExp(e.source,e.flags),t.lastIndex=e.lastIndex,t):a==="[object DataView]"?new e.constructor(b(e.buffer)):a==="[object ArrayBuffer]"?e.slice(0):a.slice(-6)==="Array]"?new e.constructor(e):e}const ne=e=>e==="defer"||e===!1;function oe(...e){var g;const r=typeof e[e.length-1]=="string"?e.pop():void 0;typeof e[0]!="string"&&e.unshift(r);let[t,a,o={}]=e;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof a!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const n=$(),i=a,c=()=>E.value,y=()=>n.isHydrating?n.payload.data[t]:n.static.data[t];o.server=o.server??!0,o.default=o.default??c,o.getCachedData=o.getCachedData??y,o.lazy=o.lazy??!1,o.immediate=o.immediate??!0,o.deep=o.deep??E.deep,o.dedupe=o.dedupe??"cancel";const u=o.getCachedData(t,n),l=u!=null;if(!n._asyncData[t]||!o.immediate){(g=n.payload._errors)[t]??(g[t]=E.errorValue);const f=o.deep?O:x;n._asyncData[t]={data:f(l?u:o.default()),pending:O(!l),error:z(n.payload._errors,t),status:O("idle"),_default:o.default}}const s={...n._asyncData[t]};delete s._default,s.refresh=s.execute=(f={})=>{if(n._asyncDataPromises[t]){if(ne(f.dedupe??o.dedupe))return n._asyncDataPromises[t];n._asyncDataPromises[t].cancelled=!0}if(f._initial||n.isHydrating&&f._initial!==!1){const v=f._initial?u:o.getCachedData(t,n);if(v!=null)return Promise.resolve(v)}s.pending.value=!0,s.status.value="pending";const w=new Promise((v,d)=>{try{v(i(n))}catch(C){d(C)}}).then(async v=>{if(w.cancelled)return n._asyncDataPromises[t];let d=v;o.transform&&(d=await o.transform(v)),o.pick&&(d=se(d,o.pick)),n.payload.data[t]=d,s.data.value=d,s.error.value=E.errorValue,s.status.value="success"}).catch(v=>{if(w.cancelled)return n._asyncDataPromises[t];s.error.value=V(v),s.data.value=H(o.default()),s.status.value="error"}).finally(()=>{w.cancelled||(s.pending.value=!1,delete n._asyncDataPromises[t])});return n._asyncDataPromises[t]=w,n._asyncDataPromises[t]},s.clear=()=>ie(n,t);const p=()=>s.refresh({_initial:!0}),m=o.server!==!1&&n.payload.serverRendered;{const f=K();if(f&&!f._nuxtOnBeforeMountCbs){f._nuxtOnBeforeMountCbs=[];const d=f._nuxtOnBeforeMountCbs;B(()=>{d.forEach(C=>{C()}),d.splice(0,d.length)}),F(()=>d.splice(0,d.length))}m&&n.isHydrating&&(s.error.value||u!=null)?(s.pending.value=!1,s.status.value=s.error.value?"error":"success"):f&&(n.payload.serverRendered&&n.isHydrating||o.lazy)&&o.immediate?f._nuxtOnBeforeMountCbs.push(p):o.immediate&&p();const w=A();if(o.watch){const d=R(o.watch,()=>s.refresh());w&&P(d)}const v=n.hook("app:data:refresh",async d=>{(!d||d.includes(t))&&await s.refresh()});w&&P(v)}const h=Promise.resolve(n._asyncDataPromises[t]).then(()=>s);return Object.assign(h,s),h}function ie(e,r){r in e.payload.data&&(e.payload.data[r]=void 0),r in e.payload._errors&&(e.payload._errors[r]=E.errorValue),e._asyncData[r]&&(e._asyncData[r].data.value=void 0,e._asyncData[r].error.value=E.errorValue,e._asyncData[r].pending.value=!1,e._asyncData[r].status.value="idle"),r in e._asyncDataPromises&&(e._asyncDataPromises[r]&&(e._asyncDataPromises[r].cancelled=!0),e._asyncDataPromises[r]=void 0)}function se(e,r){const t={};for(const a of r)t[a]=e[a];return t}function S(e,r,t){const[a={},o]=typeof r=="string"?[{},r]:[r,t],n=N(()=>_(e)),i=a.key||Y([o,typeof n.value=="string"?n.value:"",...ce(a)]);if(!i||typeof i!="string")throw new TypeError("[nuxt] [useFetch] key must be a string: "+i);if(!e)throw new Error("[nuxt] [useFetch] request is missing.");const c=i===o?"$f"+i:i;if(!a.baseURL&&typeof n.value=="string"&&n.value[0]==="/"&&n.value[1]==="/")throw new Error('[nuxt] [useFetch] the request URL must not start with "//".');const{server:y,lazy:u,default:l,transform:s,pick:p,watch:m,immediate:h,getCachedData:g,deep:f,dedupe:w,...v}=a,d=J({...G,...v,cache:typeof a.cache=="boolean"?void 0:a.cache}),C={server:y,lazy:u,default:l,transform:s,pick:p,immediate:h,getCachedData:g,deep:f,dedupe:w,watch:m===!1?[]:[d,n,...m||[]]};let D;return oe(c,()=>{var I;(I=D==null?void 0:D.abort)==null||I.call(D,"Request aborted as another request to the same endpoint was initiated."),D=typeof AbortController<"u"?new AbortController:{};const U=_(a.timeout);let k;return U&&(k=setTimeout(()=>D.abort("Request aborted due to timeout."),U),D.signal.onabort=()=>clearTimeout(k)),(a.$fetch||globalThis.$fetch)(n.value,{signal:D.signal,...d}).finally(()=>{clearTimeout(k)})},C)}function ce(e){var t;const r=[((t=_(e.method))==null?void 0:t.toUpperCase())||"GET",_(e.baseURL)];for(const a of[e.params||e.query]){const o=_(a);if(!o)continue;const n={};for(const[i,c]of Object.entries(o))n[_(i)]=_(c);r.push(n)}return r}const ue={path:"/",watch:!0,decode:e=>X(decodeURIComponent(e)),encode:e=>encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))},j=window.cookieStore;function le(e,r){var y;const t={...ue,...r};t.filter??(t.filter=u=>u===e);const a=q(t)||{};let o;t.maxAge!==void 0?o=t.maxAge*1e3:t.expires&&(o=t.expires.getTime()-Date.now());const n=o!==void 0&&o<=0,i=b(n?void 0:a[e]??((y=t.default)==null?void 0:y.call(t))),c=o&&!n?he(i,o,t.watch&&t.watch!=="shallow"):O(i);{let u=null;try{!j&&typeof BroadcastChannel<"u"&&(u=new BroadcastChannel(`nuxt:cookies:${e}`))}catch{}const l=()=>{t.readonly||W(c.value,a[e])||(de(e,c.value,t),a[e]=b(c.value),u==null||u.postMessage({value:t.encode(c.value)}))},s=h=>{var f;const g=h.refresh?(f=q(t))==null?void 0:f[e]:t.decode(h.value);p=!0,c.value=g,a[e]=b(g),Z(()=>{p=!1})};let p=!1;const m=!!A();if(m&&P(()=>{p=!0,l(),u==null||u.close()}),j){const h=g=>{const f=g.changed.find(w=>w.name===e);f&&s({value:f.value})};j.addEventListener("change",h),m&&P(()=>j.removeEventListener("change",h))}else u&&(u.onmessage=({data:h})=>s(h));t.watch?R(c,()=>{p||l()},{deep:t.watch!=="shallow"}):l()}return c}function q(e={}){return ee(document.cookie,e)}function fe(e,r,t={}){return r==null?L(e,r,{...t,maxAge:-1}):L(e,r,t)}function de(e,r,t={}){document.cookie=fe(e,r,t)}const M=2147483647;function he(e,r,t){let a,o,n=0;const i=t?O(e):{value:e};return A()&&P(()=>{o==null||o(),clearTimeout(a)}),Q((c,y)=>{t&&(o=R(i,y));function u(){n=0,clearTimeout(a);const l=r-n,s=l<M?l:M;a=setTimeout(()=>{if(n+=s,n<r)return u();i.value=void 0,y()},s)}return{get(){return c(),i.value},set(l){u(),i.value=l,y()}}})}function ge(){const e="http://localhost:8000/api",r="http://localhost:8000/",t=le("jwt"),a=N(()=>t.value?{Authorization:`Bearer ${t.value}`,Accept:"application/json"}:{Accept:"application/json"});return{baseURL:e,get:async l=>{const{data:s,pending:p,error:m,refresh:h}=await S(e+l,{headers:a.value,method:"get"},"$UqgiltlUfE");return{data:s.value,error:m.value}},post:async(l,s)=>{const{data:p,error:m}=await S(e+l,{headers:a.value,method:"post",body:s},"$HgqqyPIEgZ");return{data:p.value,error:m.value}},put:async(l,s)=>{const{data:p,pending:m,error:h,refresh:g}=await S(e+l,{headers:a.value,method:"put",body:JSON.stringify(s)},"$szE3KFZK0G");return{data:p.value,error:h.value}},del:async l=>{const{data:s,pending:p,error:m,refresh:h}=await S(e+l,{headers:a.value,method:"delete"},"$jwqgivzgaQ");return{data:s.value,error:m.value}},patch:async(l,s)=>{const{data:p,pending:m,error:h,refresh:g}=await S(e+l,{headers:a.value,method:"patch",body:JSON.stringify(s)},"$A2D352AzpI");return{data:p.value,error:h.value}},staticURL:r}}export{ge as a,S as b,le as u};
