import{ab as h,a2 as y,as as S,h as w,r as j,i as v,E as D}from"./DStkSF2J.js";function f(e){return h()?(y(e),!0):!1}function W(e){let n=0,o,t;const s=()=>{n-=1,t&&n<=0&&(t.stop(),o=void 0,t=void 0)};return(...i)=>(n+=1,o||(t=S(!0),o=t.run(()=>e(...i))),f(s),o)}function p(e){return typeof e=="function"?e():w(e)}const m=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const x=e=>typeof e<"u",F=e=>e!=null,T=Object.prototype.toString,P=e=>T.call(e)==="[object Object]",I=()=>+Date.now(),d=()=>{};function g(e,n){function o(...t){return new Promise((s,i)=>{Promise.resolve(e(()=>n.apply(this,t),{fn:n,thisArg:this,args:t})).then(s).catch(i)})}return o}function C(e,n={}){let o,t,s=d;const i=r=>{clearTimeout(r),s(),s=d};return r=>{const l=p(e),a=p(n.maxWait);return o&&i(o),l<=0||a!==void 0&&a<=0?(t&&(i(t),t=null),Promise.resolve(r())):new Promise((u,b)=>{s=n.rejectOnCancel?b:u,a&&!t&&(t=setTimeout(()=>{o&&i(o),t=null,u(r())},a)),o=setTimeout(()=>{t&&i(t),t=null,u(r())},l)})}}function A(e,n=200,o={}){return g(C(n,o),e)}function G(e,n=1e3,o={}){const{immediate:t=!0,immediateCallback:s=!1}=o;let i=null;const c=j(!1);function r(){i&&(clearInterval(i),i=null)}function l(){c.value=!1,r()}function a(){const u=p(n);u<=0||(c.value=!0,s&&e(),r(),i=setInterval(e,u))}if(t&&m&&a(),v(n)||typeof n=="function"){const u=D(n,()=>{c.value&&m&&a()});f(u)}return f(l),{isActive:c,pause:l,resume:a}}export{f as a,x as b,W as c,m as d,I as e,G as f,F as g,P as i,d as n,p as t,A as u};
