import{n as R,t as M,i as C,a as O,b as T,d as W,e as x,f as $,g as D}from"./Chyrqj9S.js";import{i as I,r as w,Q as J,O as k,y as E,E as y,X as z,W as q,ak as B,k as j}from"./DStkSF2J.js";function Y(s,n,r){let a;I(r)?a={evaluating:r}:a=r||{};const{lazy:i=!1,evaluating:e=void 0,shallow:d=!0,onError:u=R}=a,l=w(!i),c=d?J(n):w(n);let t=0;return k(async v=>{if(!l.value)return;t++;const f=t;let o=!1;e&&Promise.resolve().then(()=>{e.value=!0});try{const p=await s(h=>{v(()=>{e&&(e.value=!1),o||h()})});f===t&&(c.value=p)}catch(p){u(p)}finally{e&&f===t&&(e.value=!1),o=!0}}),i?E(()=>(l.value=!0,c.value)):c}function V(s){var n;const r=M(s);return(n=r==null?void 0:r.$el)!=null?n:r}const b=W?window:void 0;function L(...s){let n,r,a,i;if(typeof s[0]=="string"||Array.isArray(s[0])?([r,a,i]=s,n=b):[n,r,a,i]=s,!n)return R;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const e=[],d=()=>{e.forEach(t=>t()),e.length=0},u=(t,v,f,o)=>(t.addEventListener(v,f,o),()=>t.removeEventListener(v,f,o)),l=y(()=>[V(n),M(i)],([t,v])=>{if(d(),!t)return;const f=C(v)?{...v}:v;e.push(...r.flatMap(o=>a.map(p=>u(t,o,p,f))))},{immediate:!0,flush:"post"}),c=()=>{l(),d()};return O(c),c}function P(){const s=w(!1),n=q();return n&&j(()=>{s.value=!0},n),s}function Q(s){const n=P();return E(()=>(n.value,!!s()))}function U(s,n,r={}){const{window:a=b,...i}=r;let e;const d=Q(()=>a&&"MutationObserver"in a),u=()=>{e&&(e.disconnect(),e=void 0)},l=E(()=>{const f=M(s),o=(Array.isArray(f)?f:[f]).map(V).filter(D);return new Set(o)}),c=y(()=>l.value,f=>{u(),d.value&&f.size&&(e=new MutationObserver(n),f.forEach(o=>e.observe(o,i)))},{immediate:!0,flush:"post"}),t=()=>e==null?void 0:e.takeRecords(),v=()=>{u(),c()};return O(v),{isSupported:d,stop:v,takeRecords:t}}function Z(s={}){var n;const{window:r=b,deep:a=!0,triggerOnRemoval:i=!1}=s,e=(n=s.document)!=null?n:r==null?void 0:r.document,d=()=>{var c;let t=e==null?void 0:e.activeElement;if(a)for(;t!=null&&t.shadowRoot;)t=(c=t==null?void 0:t.shadowRoot)==null?void 0:c.activeElement;return t},u=w(),l=()=>{u.value=d()};return r&&(L(r,"blur",c=>{c.relatedTarget===null&&l()},!0),L(r,"focus",l,!0)),i&&U(e,c=>{c.filter(t=>t.removedNodes.length).map(t=>Array.from(t.removedNodes)).flat().forEach(t=>{t===u.value&&l()})},{childList:!0,subtree:!0}),l(),u}function X(s,n={}){const{immediate:r=!0,fpsLimit:a=void 0,window:i=b}=n,e=w(!1),d=a?1e3/a:null;let u=0,l=null;function c(f){if(!e.value||!i)return;u||(u=f);const o=f-u;if(d&&o<d){l=i.requestAnimationFrame(c);return}u=f,s({delta:o,timestamp:f}),l=i.requestAnimationFrame(c)}function t(){!e.value&&i&&(e.value=!0,u=0,l=i.requestAnimationFrame(c))}function v(){e.value=!1,l!=null&&i&&(i.cancelAnimationFrame(l),l=null)}return r&&t(),O(v),{isActive:B(e),pause:v,resume:t}}function G(s){return JSON.parse(JSON.stringify(s))}function ee(s={}){const{controls:n=!1,offset:r=0,immediate:a=!0,interval:i="requestAnimationFrame",callback:e}=s,d=w(x()+r),u=()=>d.value=x()+r,l=e?()=>{u(),e(d.value)}:u,c=i==="requestAnimationFrame"?X(l,{immediate:a}):$(l,i,{immediate:a});return n?{timestamp:d,...c}:d}function te(s,n,r,a={}){var i,e,d;const{clone:u=!1,passive:l=!1,eventName:c,deep:t=!1,defaultValue:v,shouldEmit:f}=a,o=q(),p=r||(o==null?void 0:o.emit)||((i=o==null?void 0:o.$emit)==null?void 0:i.bind(o))||((d=(e=o==null?void 0:o.proxy)==null?void 0:e.$emit)==null?void 0:d.bind(o==null?void 0:o.proxy));let h=c;h=h||`update:${n.toString()}`;const N=m=>u?typeof u=="function"?u(m):G(m):m,S=()=>T(s[n])?N(s[n]):v,_=m=>{f?f(m)&&p(h,m):p(h,m)};if(l){const m=S(),F=w(m);let g=!1;return y(()=>s[n],A=>{g||(g=!0,F.value=N(A),z(()=>g=!1))}),y(F,A=>{!g&&(A!==s[n]||t)&&_(A)},{deep:t}),F}else return E({get(){return S()},set(m){_(m)}})}export{V as a,Z as b,Y as c,L as d,ee as e,te as u};
