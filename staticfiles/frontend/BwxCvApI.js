import{y as M,h as Me,Q as Qt,E as oe,a1 as ct,a2 as Zt,r as B,P as Et,k as Oe,O as re,s as ve,V as en,R as Rt,C as De,F as tn,S as It,X as te,a3 as nn,Z as G}from"./DStkSF2J.js";import{e as He,o as $,i as Ct,a as se,j as on,p as rn,h as $e,f as an,E as ln,u as sn,A as we,q as qe,I as ze,k as ke,g as un,O as cn,m as N,b as dt,x as dn}from"./DnH1ldC5.js";import{a as ft}from"./BDRGNAdl.js";function le(e,n,t){let r=t.initialDeps??[],o;return()=>{var i,l,a,s;let c;t.key&&((i=t.debug)!=null&&i.call(t))&&(c=Date.now());const u=e();if(!(u.length!==r.length||u.some((m,y)=>r[y]!==m)))return o;r=u;let g;if(t.key&&((l=t.debug)!=null&&l.call(t))&&(g=Date.now()),o=n(...u),t.key&&((a=t.debug)!=null&&a.call(t))){const m=Math.round((Date.now()-c)*100)/100,y=Math.round((Date.now()-g)*100)/100,S=y/16,R=(C,b)=>{for(C=String(C);C.length<b;)C=" "+C;return C};console.info(`%c⏱ ${R(y,5)} /${R(m,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*S,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(s=t==null?void 0:t.onChange)==null||s.call(t,o),o}}function We(e,n){if(e===void 0)throw new Error("Unexpected undefined");return e}const fn=(e,n)=>Math.abs(e-n)<1,vn=(e,n,t)=>{let r;return function(...o){e.clearTimeout(r),r=e.setTimeout(()=>n.apply(this,o),t)}},pn=e=>e,hn=e=>{const n=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let o=n;o<=t;o++)r.push(o);return r},mn=(e,n)=>{const t=e.scrollElement;if(!t)return;const r=e.targetWindow;if(!r)return;const o=l=>{const{width:a,height:s}=l;n({width:Math.round(a),height:Math.round(s)})};if(o(t.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const i=new r.ResizeObserver(l=>{const a=l[0];if(a!=null&&a.borderBoxSize){const s=a.borderBoxSize[0];if(s){o({width:s.inlineSize,height:s.blockSize});return}}o(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},vt={passive:!0},bn=typeof window>"u"?!0:"onscrollend"in window,gn=(e,n)=>{const t=e.scrollElement;if(!t)return;const r=e.targetWindow;if(!r)return;let o=0;const i=bn?()=>{}:vn(r,()=>{n(o,!1)},e.options.isScrollingResetDelay),l=c=>()=>{const{horizontal:u,isRtl:p}=e.options;o=u?t.scrollLeft*(p&&-1||1):t.scrollTop,i(),n(o,c)},a=l(!0),s=l(!1);return s(),t.addEventListener("scroll",a,vt),t.addEventListener("scrollend",s,vt),()=>{t.removeEventListener("scroll",a),t.removeEventListener("scrollend",s)}},xn=(e,n,t)=>{if(n!=null&&n.borderBoxSize){const r=n.borderBoxSize[0];if(r)return Math.round(r[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},yn=(e,{adjustments:n=0,behavior:t},r)=>{var o,i;const l=e+n;(i=(o=r.scrollElement)==null?void 0:o.scrollTo)==null||i.call(o,{[r.options.horizontal?"left":"top"]:l,behavior:t})};class On{constructor(n){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const r=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(o=>{o.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var o;return(o=r())==null?void 0:o.disconnect()},observe:o=>{var i;return(i=r())==null?void 0:i.observe(o,{box:"border-box"})},unobserve:o=>{var i;return(i=r())==null?void 0:i.unobserve(o)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([r,o])=>{typeof o>"u"&&delete t[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:pn,rangeExtractor:hn,onChange:()=>{},measureElement:xn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,...t}},this.notify=t=>{var r,o;(o=(r=this.options).onChange)==null||o.call(r,this,t)},this.maybeNotify=le(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),t=>{this.notify(t)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=i,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,r)=>{const o=new Map,i=new Map;for(let l=r-1;l>=0;l--){const a=t[l];if(o.has(a.lane))continue;const s=i.get(a.lane);if(s==null||a.end>s.end?i.set(a.lane,a):a.end<s.end&&o.set(a.lane,!0),o.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((l,a)=>l.end===a.end?l.index-a.index:l.end-a.end)[0]:void 0},this.getMeasurementOptions=le(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,r,o,i,l)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l}),{key:!1}),this.getMeasurements=le(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:r,scrollMargin:o,getItemKey:i,enabled:l},a)=>{if(!l)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const s=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,s);for(let u=s;u<t;u++){const p=i(u),g=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),m=g?g.end+this.options.gap:r+o,y=a.get(p),S=typeof y=="number"?y:this.options.estimateSize(u),R=m+S,C=g?g.lane:u%this.options.lanes;c[u]={index:u,start:m,size:S,end:R,key:p,lane:C}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=le(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,r,o)=>this.range=t.length>0&&r>0?wn({measurements:t,outerSize:r,scrollOffset:o}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=le(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,r,o,i)=>r===null?[]:t({startIndex:r.startIndex,endIndex:r.endIndex,overscan:o,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const r=this.options.indexAttribute,o=t.getAttribute(r);return o?parseInt(o,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(t,r)=>{const o=this.indexFromElement(t),i=this.measurementsCache[o];if(!i)return;const l=i.key,a=this.elementsCache.get(l);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(l,t)),t.isConnected&&this.resizeItem(o,this.options.measureElement(t,r,this))},this.resizeItem=(t,r)=>{const o=this.measurementsCache[t];if(!o)return;const i=this.itemSizeCache.get(o.key)??o.size,l=r-i;l!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(o,l,this):o.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=l,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(o.index),this.itemSizeCache=new Map(this.itemSizeCache.set(o.key,r)),this.notify(!1))},this.measureElement=t=>{if(!t){this.elementsCache.forEach((r,o)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(o))});return}this._measureElement(t,void 0)},this.getVirtualItems=le(()=>[this.getIndexes(),this.getMeasurements()],(t,r)=>{const o=[];for(let i=0,l=t.length;i<l;i++){const a=t[i],s=r[a];o.push(s)}return o},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const r=this.getMeasurements();if(r.length!==0)return We(r[Tt(0,r.length-1,o=>We(r[o]).start,t)])},this.getOffsetForAlignment=(t,r)=>{const o=this.getSize(),i=this.getScrollOffset();r==="auto"&&(t<=i?r="start":t>=i+o?r="end":r="start"),r==="start"?t=t:r==="end"?t=t-o:r==="center"&&(t=t-o/2);const l=this.options.horizontal?"scrollWidth":"scrollHeight",s=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[l]:this.scrollElement[l]:0)-o;return Math.max(Math.min(s,t),0)},this.getOffsetForIndex=(t,r="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const o=this.measurementsCache[t];if(!o)return;const i=this.getSize(),l=this.getScrollOffset();if(r==="auto")if(o.end>=l+i-this.options.scrollPaddingEnd)r="end";else if(o.start<=l+this.options.scrollPaddingStart)r="start";else return[l,r];const a=r==="end"?o.end+this.options.scrollPaddingEnd:o.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:r="start",behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,r),{adjustments:void 0,behavior:o})},this.scrollToIndex=(t,{align:r="auto",behavior:o}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,r);if(!i)return;const[l,a]=i;this._scrollToOffset(l,{adjustments:void 0,behavior:o}),o!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[c]=We(this.getOffsetForIndex(t,a));fn(c,this.getScrollOffset())||this.scrollToIndex(t,{align:a,behavior:o})}else this.scrollToIndex(t,{align:a,behavior:o})}))},this.scrollBy=(t,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var t;const r=this.getMeasurements();let o;return r.length===0?o=this.options.paddingStart:o=this.options.lanes===1?((t=r[r.length-1])==null?void 0:t.end)??0:Math.max(...r.slice(-this.options.lanes).map(i=>i.end)),o-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:r,behavior:o})=>{this.options.scrollToFn(t,{behavior:o,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(n)}}const Tt=(e,n,t,r)=>{for(;e<=n;){const o=(e+n)/2|0,i=t(o);if(i<r)e=o+1;else if(i>r)n=o-1;else return o}return e>0?e-1:0};function wn({measurements:e,outerSize:n,scrollOffset:t}){const r=e.length-1,i=Tt(0,r,a=>e[a].start,t);let l=i;for(;l<r&&e[l].end<t+n;)l++;return{startIndex:i,endIndex:l}}function Sn(e){const n=new On(Me(e)),t=Qt(n),r=n._didMount();return oe(()=>Me(e).getScrollElement(),o=>{o&&n._willUpdate()},{immediate:!0}),oe(()=>Me(e),o=>{n.setOptions({...o,onChange:(i,l)=>{var a;ct(t),(a=o.onChange)==null||a.call(o,i,l)}}),n._willUpdate(),ct(t)},{immediate:!0}),Zt(r),t}function En(e){return Sn(M(()=>({observeElementRect:mn,observeElementOffset:gn,scrollToFn:yn,...Me(e)})))}function Rn(e,n,t){let r=B(t==null?void 0:t.value),o=M(()=>e.value!==void 0);return[M(()=>o.value?e.value:r.value),function(i){return o.value||(r.value=i),n==null?void 0:n(i)}]}function In(){let e=He();return Et(()=>e.dispose()),e}function Cn(){let e=In();return n=>{e.dispose(),e.nextFrame(n)}}function pt(e,n){if(e)return e;let t=n??"button";if(typeof t=="string"&&t.toLowerCase()==="button")return"button"}function Tn(e,n){let t=B(pt(e.value.type,e.value.as));return Oe(()=>{t.value=pt(e.value.type,e.value.as)}),re(()=>{var r;t.value||$(n)&&$(n)instanceof HTMLButtonElement&&!((r=$(n))!=null&&r.hasAttribute("type"))&&(t.value="button")}),t}function ht(e){return[e.screenX,e.screenY]}function An(){let e=B([-1,-1]);return{wasMoved(n){let t=ht(n);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(n){e.value=ht(n)}}}function Mn({container:e,accept:n,walk:t,enabled:r}){re(()=>{let o=e.value;if(!o||r!==void 0&&!r.value)return;let i=Ct(e);if(!i)return;let l=Object.assign(s=>n(s),{acceptNode:n}),a=i.createTreeWalker(o,NodeFilter.SHOW_ELEMENT,l,!1);for(;a.nextNode();)t(a.currentNode)})}var At=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(At||{});function Pn(e){throw new Error("Unexpected object: "+e)}var j=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(j||{});function mt(e,n){let t=n.resolveItems();if(t.length<=0)return null;let r=n.resolveActiveIndex(),o=r??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return r}case 1:{o===-1&&(o=t.length);for(let i=o-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return r}case 2:{for(let i=o+1;i<t.length;++i)if(!n.resolveDisabled(t[i],i,t))return i;return r}case 3:{for(let i=t.length-1;i>=0;--i)if(!n.resolveDisabled(t[i],i,t))return i;return r}case 4:{for(let i=0;i<t.length;++i)if(n.resolveId(t[i],i,t)===e.id)return i;return r}case 5:return null;default:Pn(e)}}function Mt(e={},n=null,t=[]){for(let[r,o]of Object.entries(e))Dt(t,Pt(n,r),o);return t}function Pt(e,n){return e?e+"["+n+"]":n}function Dt(e,n,t){if(Array.isArray(t))for(let[r,o]of t.entries())Dt(e,Pt(n,r.toString()),o);else t instanceof Date?e.push([n,t.toISOString()]):typeof t=="boolean"?e.push([n,t?"1":"0"]):typeof t=="string"?e.push([n,t]):typeof t=="number"?e.push([n,`${t}`]):t==null?e.push([n,""]):Mt(t,n,e)}var Dn={};function $n(e,n){return e===n}var kn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(kn||{}),Bn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Bn||{}),zn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(zn||{});let $t=Symbol("ComboboxContext");function pe(e){let n=It($t,null);if(n===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,pe),t}return n}let kt=Symbol("VirtualContext"),jn=ve({name:"VirtualProvider",setup(e,{slots:n}){let t=pe("VirtualProvider"),r=M(()=>{let a=$(t.optionsRef);if(!a)return{start:0,end:0};let s=window.getComputedStyle(a);return{start:parseFloat(s.paddingBlockStart||s.paddingTop),end:parseFloat(s.paddingBlockEnd||s.paddingBottom)}}),o=En(M(()=>({scrollPaddingStart:r.value.start,scrollPaddingEnd:r.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return $(t.optionsRef)},overscan:12}))),i=M(()=>{var a;return(a=t.virtual.value)==null?void 0:a.options}),l=B(0);return oe([i],()=>{l.value+=1}),Rt(kt,t.virtual.value?o:null),()=>[De("div",{style:{position:"relative",width:"100%",height:`${o.value.getTotalSize()}px`},ref:a=>{if(a){if(typeof process<"u"&&Dn.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&o.value.scrollToIndex(t.activeOptionIndex.value)}}},o.value.getVirtualItems().map(a=>nn(n.default({option:t.virtual.value.options[a.index],open:t.comboboxState.value===0})[0],{key:`${l.value}-${a.index}`,"data-index":a.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":a.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${a.start}px)`,overflowAnchor:"none"}})))]}}),_o=ve({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:n,attrs:t,emit:r}){let o=B(1),i=B(null),l=B(null),a=B(null),s=B(null),c=B({static:!1,hold:!1}),u=B([]),p=B(null),g=B(2),m=B(!1);function y(d=h=>h){let h=p.value!==null?u.value[p.value]:null,O=d(u.value.slice()),w=O.length>0&&O[0].dataRef.order.value!==null?O.sort((D,k)=>D.dataRef.order.value-k.dataRef.order.value):cn(O,D=>$(D.dataRef.domRef)),P=h?w.indexOf(h):null;return P===-1&&(P=null),{options:w,activeOptionIndex:P}}let S=M(()=>e.multiple?1:0),R=M(()=>e.nullable),[C,b]=Rn(M(()=>e.modelValue),d=>r("update:modelValue",d),M(()=>e.defaultValue)),T=M(()=>C.value===void 0?se(S.value,{1:[],0:void 0}):C.value),E=null,f=null;function x(d){return se(S.value,{0(){return b==null?void 0:b(d)},1:()=>{let h=G(v.value.value).slice(),O=G(d),w=h.findIndex(P=>v.compare(O,G(P)));return w===-1?h.push(O):h.splice(w,1),b==null?void 0:b(h)}})}let I=M(()=>{});oe([I],([d],[h])=>{if(v.virtual.value&&d&&h&&p.value!==null){let O=d.indexOf(h[p.value]);O!==-1?p.value=O:p.value=null}});let v={comboboxState:o,value:T,mode:S,compare(d,h){if(typeof e.by=="string"){let O=e.by;return(d==null?void 0:d[O])===(h==null?void 0:h[O])}return e.by===null?$n(d,h):e.by(d,h)},calculateIndex(d){return v.virtual.value?e.by===null?v.virtual.value.options.indexOf(d):v.virtual.value.options.findIndex(h=>v.compare(h,d)):u.value.findIndex(h=>v.compare(h.dataRef.value,d))},defaultValue:M(()=>e.defaultValue),nullable:R,immediate:M(()=>!1),virtual:M(()=>null),inputRef:l,labelRef:i,buttonRef:a,optionsRef:s,disabled:M(()=>e.disabled),options:u,change(d){b(d)},activeOptionIndex:M(()=>{if(m.value&&p.value===null&&(v.virtual.value?v.virtual.value.options.length>0:u.value.length>0)){if(v.virtual.value){let h=v.virtual.value.options.findIndex(O=>{var w;return!((w=v.virtual.value)!=null&&w.disabled(O))});if(h!==-1)return h}let d=u.value.findIndex(h=>!h.dataRef.disabled);if(d!==-1)return d}return p.value}),activationTrigger:g,optionsPropsRef:c,closeCombobox(){m.value=!1,!e.disabled&&o.value!==1&&(o.value=1,p.value=null)},openCombobox(){if(m.value=!0,!e.disabled&&o.value!==0){if(v.value.value){let d=v.calculateIndex(v.value.value);d!==-1&&(p.value=d)}o.value=0}},setActivationTrigger(d){g.value=d},goToOption(d,h,O){m.value=!1,E!==null&&cancelAnimationFrame(E),E=requestAnimationFrame(()=>{if(e.disabled||s.value&&!c.value.static&&o.value===1)return;if(v.virtual.value){p.value=d===j.Specific?h:mt({focus:d},{resolveItems:()=>v.virtual.value.options,resolveActiveIndex:()=>{var D,k;return(k=(D=v.activeOptionIndex.value)!=null?D:v.virtual.value.options.findIndex(z=>{var U;return!((U=v.virtual.value)!=null&&U.disabled(z))}))!=null?k:null},resolveDisabled:D=>v.virtual.value.disabled(D),resolveId(){throw new Error("Function not implemented.")}}),g.value=O??2;return}let w=y();if(w.activeOptionIndex===null){let D=w.options.findIndex(k=>!k.dataRef.disabled);D!==-1&&(w.activeOptionIndex=D)}let P=d===j.Specific?h:mt({focus:d},{resolveItems:()=>w.options,resolveActiveIndex:()=>w.activeOptionIndex,resolveId:D=>D.id,resolveDisabled:D=>D.dataRef.disabled});p.value=P,g.value=O??2,u.value=w.options})},selectOption(d){let h=u.value.find(w=>w.id===d);if(!h)return;let{dataRef:O}=h;x(O.value)},selectActiveOption(){if(v.activeOptionIndex.value!==null){if(v.virtual.value)x(v.virtual.value.options[v.activeOptionIndex.value]);else{let{dataRef:d}=u.value[v.activeOptionIndex.value];x(d.value)}v.goToOption(j.Specific,v.activeOptionIndex.value)}},registerOption(d,h){let O=en({id:d,dataRef:h});if(v.virtual.value){u.value.push(O);return}f&&cancelAnimationFrame(f);let w=y(P=>(P.push(O),P));p.value===null&&v.isSelected(h.value.value)&&(w.activeOptionIndex=w.options.indexOf(O)),u.value=w.options,p.value=w.activeOptionIndex,g.value=2,w.options.some(P=>!$(P.dataRef.domRef))&&(f=requestAnimationFrame(()=>{let P=y();u.value=P.options,p.value=P.activeOptionIndex}))},unregisterOption(d,h){if(E!==null&&cancelAnimationFrame(E),h&&(m.value=!0),v.virtual.value){u.value=u.value.filter(w=>w.id!==d);return}let O=y(w=>{let P=w.findIndex(D=>D.id===d);return P!==-1&&w.splice(P,1),w});u.value=O.options,p.value=O.activeOptionIndex,g.value=2},isSelected(d){return se(S.value,{0:()=>v.compare(G(v.value.value),G(d)),1:()=>G(v.value.value).some(h=>v.compare(G(h),G(d)))})},isActive(d){return p.value===v.calculateIndex(d)}};on([l,a,s],()=>v.closeCombobox(),M(()=>o.value===0)),Rt($t,v),rn(M(()=>se(o.value,{0:$e.Open,1:$e.Closed})));let A=M(()=>{var d;return(d=$(l))==null?void 0:d.closest("form")});return Oe(()=>{oe([A],()=>{if(!A.value||e.defaultValue===void 0)return;function d(){v.change(e.defaultValue)}return A.value.addEventListener("reset",d),()=>{var h;(h=A.value)==null||h.removeEventListener("reset",d)}},{immediate:!0})}),()=>{var d,h,O;let{name:w,disabled:P,form:D,...k}=e,z={open:o.value===0,disabled:P,activeIndex:v.activeOptionIndex.value,activeOption:v.activeOptionIndex.value===null?null:v.virtual.value?v.virtual.value.options[(d=v.activeOptionIndex.value)!=null?d:0]:(O=(h=v.options.value[v.activeOptionIndex.value])==null?void 0:h.dataRef.value)!=null?O:null,value:T.value};return De(tn,[...w!=null&&T.value!=null?Mt({[w]:T.value}).map(([U,K])=>De(an,ln({features:sn.Hidden,key:U,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:D,disabled:P,name:U,value:K}))):[],we({theirProps:{...t,...qe(k,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:z,slots:n,attrs:t,name:"Combobox"})])}}}),Uo=ve({name:"ComboboxButton",props:{as:{type:[Object,String],default:"button"},id:{type:String,default:null}},setup(e,{attrs:n,slots:t,expose:r}){var o;let i=(o=e.id)!=null?o:`headlessui-combobox-button-${ze()}`,l=pe("ComboboxButton");r({el:l.buttonRef,$el:l.buttonRef});function a(u){l.disabled.value||(l.comboboxState.value===0?l.closeCombobox():(u.preventDefault(),l.openCombobox()),te(()=>{var p;return(p=$(l.inputRef))==null?void 0:p.focus({preventScroll:!0})}))}function s(u){switch(u.key){case N.ArrowDown:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&l.openCombobox(),te(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case N.ArrowUp:u.preventDefault(),u.stopPropagation(),l.comboboxState.value===1&&(l.openCombobox(),te(()=>{l.value.value||l.goToOption(j.Last)})),te(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return;case N.Escape:if(l.comboboxState.value!==0)return;u.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&u.stopPropagation(),l.closeCombobox(),te(()=>{var p;return(p=l.inputRef.value)==null?void 0:p.focus({preventScroll:!0})});return}}let c=Tn(M(()=>({as:e.as,type:n.type})),l.buttonRef);return()=>{var u,p;let g={open:l.comboboxState.value===0,disabled:l.disabled.value,value:l.value.value},{...m}=e,y={ref:l.buttonRef,id:i,type:c.value,tabindex:"-1","aria-haspopup":"listbox","aria-controls":(u=$(l.optionsRef))==null?void 0:u.id,"aria-expanded":l.comboboxState.value===0,"aria-labelledby":l.labelRef.value?[(p=$(l.labelRef))==null?void 0:p.id,i].join(" "):void 0,disabled:l.disabled.value===!0?!0:void 0,onKeydown:s,onClick:a};return we({ourProps:y,theirProps:m,slot:g,attrs:n,slots:t,name:"ComboboxButton"})}}}),qo=ve({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:n,attrs:t,slots:r,expose:o}){var i;let l=(i=e.id)!=null?i:`headlessui-combobox-input-${ze()}`,a=pe("ComboboxInput"),s=M(()=>Ct($(a.inputRef))),c={value:!1};o({el:a.inputRef,$el:a.inputRef});function u(){a.change(null);let f=$(a.optionsRef);f&&(f.scrollTop=0),a.goToOption(j.Nothing)}let p=M(()=>{var f;let x=a.value.value;return $(a.inputRef)?typeof e.displayValue<"u"&&x!==void 0?(f=e.displayValue(x))!=null?f:"":typeof x=="string"?x:"":""});Oe(()=>{oe([p,a.comboboxState,s],([f,x],[I,v])=>{if(c.value)return;let A=$(a.inputRef);A&&((v===0&&x===1||f!==I)&&(A.value=f),requestAnimationFrame(()=>{var d;if(c.value||!A||((d=s.value)==null?void 0:d.activeElement)!==A)return;let{selectionStart:h,selectionEnd:O}=A;Math.abs((O??0)-(h??0))===0&&h===0&&A.setSelectionRange(A.value.length,A.value.length)}))},{immediate:!0}),oe([a.comboboxState],([f],[x])=>{if(f===0&&x===1){if(c.value)return;let I=$(a.inputRef);if(!I)return;let v=I.value,{selectionStart:A,selectionEnd:d,selectionDirection:h}=I;I.value="",I.value=v,h!==null?I.setSelectionRange(A,d,h):I.setSelectionRange(A,d)}})});let g=B(!1);function m(){g.value=!0}function y(){He().nextFrame(()=>{g.value=!1})}let S=Cn();function R(f){switch(c.value=!0,S(()=>{c.value=!1}),f.key){case N.Enter:if(c.value=!1,a.comboboxState.value!==0||g.value)return;if(f.preventDefault(),f.stopPropagation(),a.activeOptionIndex.value===null){a.closeCombobox();return}a.selectActiveOption(),a.mode.value===0&&a.closeCombobox();break;case N.ArrowDown:return c.value=!1,f.preventDefault(),f.stopPropagation(),se(a.comboboxState.value,{0:()=>a.goToOption(j.Next),1:()=>a.openCombobox()});case N.ArrowUp:return c.value=!1,f.preventDefault(),f.stopPropagation(),se(a.comboboxState.value,{0:()=>a.goToOption(j.Previous),1:()=>{a.openCombobox(),te(()=>{a.value.value||a.goToOption(j.Last)})}});case N.Home:if(f.shiftKey)break;return c.value=!1,f.preventDefault(),f.stopPropagation(),a.goToOption(j.First);case N.PageUp:return c.value=!1,f.preventDefault(),f.stopPropagation(),a.goToOption(j.First);case N.End:if(f.shiftKey)break;return c.value=!1,f.preventDefault(),f.stopPropagation(),a.goToOption(j.Last);case N.PageDown:return c.value=!1,f.preventDefault(),f.stopPropagation(),a.goToOption(j.Last);case N.Escape:if(c.value=!1,a.comboboxState.value!==0)return;f.preventDefault(),a.optionsRef.value&&!a.optionsPropsRef.value.static&&f.stopPropagation(),a.nullable.value&&a.mode.value===0&&a.value.value===null&&u(),a.closeCombobox();break;case N.Tab:if(c.value=!1,a.comboboxState.value!==0)return;a.mode.value===0&&a.activationTrigger.value!==1&&a.selectActiveOption(),a.closeCombobox();break}}function C(f){n("change",f),a.nullable.value&&a.mode.value===0&&f.target.value===""&&u(),a.openCombobox()}function b(f){var x,I,v;let A=(x=f.relatedTarget)!=null?x:dt.find(d=>d!==f.currentTarget);if(c.value=!1,!((I=$(a.optionsRef))!=null&&I.contains(A))&&!((v=$(a.buttonRef))!=null&&v.contains(A))&&a.comboboxState.value===0)return f.preventDefault(),a.mode.value===0&&(a.nullable.value&&a.value.value===null?u():a.activationTrigger.value!==1&&a.selectActiveOption()),a.closeCombobox()}function T(f){var x,I,v;let A=(x=f.relatedTarget)!=null?x:dt.find(d=>d!==f.currentTarget);(I=$(a.buttonRef))!=null&&I.contains(A)||(v=$(a.optionsRef))!=null&&v.contains(A)||a.disabled.value||a.immediate.value&&a.comboboxState.value!==0&&(a.openCombobox(),He().nextFrame(()=>{a.setActivationTrigger(1)}))}let E=M(()=>{var f,x,I,v;return(v=(I=(x=e.defaultValue)!=null?x:a.defaultValue.value!==void 0?(f=e.displayValue)==null?void 0:f.call(e,a.defaultValue.value):null)!=null?I:a.defaultValue.value)!=null?v:""});return()=>{var f,x,I,v,A,d,h;let O={open:a.comboboxState.value===0},{displayValue:w,onChange:P,...D}=e,k={"aria-controls":(f=a.optionsRef.value)==null?void 0:f.id,"aria-expanded":a.comboboxState.value===0,"aria-activedescendant":a.activeOptionIndex.value===null?void 0:a.virtual.value?(x=a.options.value.find(z=>!a.virtual.value.disabled(z.dataRef.value)&&a.compare(z.dataRef.value,a.virtual.value.options[a.activeOptionIndex.value])))==null?void 0:x.id:(I=a.options.value[a.activeOptionIndex.value])==null?void 0:I.id,"aria-labelledby":(d=(v=$(a.labelRef))==null?void 0:v.id)!=null?d:(A=$(a.buttonRef))==null?void 0:A.id,"aria-autocomplete":"list",id:l,onCompositionstart:m,onCompositionend:y,onKeydown:R,onInput:C,onFocus:T,onBlur:b,role:"combobox",type:(h=t.type)!=null?h:"text",tabIndex:0,ref:a.inputRef,defaultValue:E.value,disabled:a.disabled.value===!0?!0:void 0};return we({ourProps:k,theirProps:D,slot:O,attrs:t,slots:r,features:ke.RenderStrategy|ke.Static,name:"ComboboxInput"})}}}),Xo=ve({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:n,slots:t,expose:r}){let o=pe("ComboboxOptions"),i=`headlessui-combobox-options-${ze()}`;r({el:o.optionsRef,$el:o.optionsRef}),re(()=>{o.optionsPropsRef.value.static=e.static}),re(()=>{o.optionsPropsRef.value.hold=e.hold});let l=un(),a=M(()=>l!==null?(l.value&$e.Open)===$e.Open:o.comboboxState.value===0);Mn({container:M(()=>$(o.optionsRef)),enabled:M(()=>o.comboboxState.value===0),accept(c){return c.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function s(c){c.preventDefault()}return()=>{var c,u,p;let g={open:o.comboboxState.value===0},m={"aria-labelledby":(p=(c=$(o.labelRef))==null?void 0:c.id)!=null?p:(u=$(o.buttonRef))==null?void 0:u.id,id:i,ref:o.optionsRef,role:"listbox","aria-multiselectable":o.mode.value===1?!0:void 0,onMousedown:s},y=qe(e,["hold"]);return we({ourProps:m,theirProps:y,slot:g,attrs:n,slots:o.virtual.value&&o.comboboxState.value===0?{...t,default:()=>[De(jn,{},t.default)]}:t,features:ke.RenderStrategy|ke.Static,visible:a.value,name:"ComboboxOptions"})}}}),Ko=ve({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:n,attrs:t,expose:r}){let o=pe("ComboboxOption"),i=`headlessui-combobox-option-${ze()}`,l=B(null),a=M(()=>e.disabled);r({el:l,$el:l});let s=M(()=>{var b;return o.virtual.value?o.activeOptionIndex.value===o.calculateIndex(e.value):o.activeOptionIndex.value===null?!1:((b=o.options.value[o.activeOptionIndex.value])==null?void 0:b.id)===i}),c=M(()=>o.isSelected(e.value)),u=It(kt,null),p=M(()=>({disabled:e.disabled,value:e.value,domRef:l,order:M(()=>e.order)}));Oe(()=>o.registerOption(i,p)),Et(()=>o.unregisterOption(i,s.value)),re(()=>{let b=$(l);b&&(u==null||u.value.measureElement(b))}),re(()=>{o.comboboxState.value===0&&s.value&&(o.virtual.value||o.activationTrigger.value!==0&&te(()=>{var b,T;return(T=(b=$(l))==null?void 0:b.scrollIntoView)==null?void 0:T.call(b,{block:"nearest"})}))});function g(b){b.preventDefault(),b.button===At.Left&&(a.value||(o.selectOption(i),dn()||requestAnimationFrame(()=>{var T;return(T=$(o.inputRef))==null?void 0:T.focus({preventScroll:!0})}),o.mode.value===0&&o.closeCombobox()))}function m(){var b;if(e.disabled||(b=o.virtual.value)!=null&&b.disabled(e.value))return o.goToOption(j.Nothing);let T=o.calculateIndex(e.value);o.goToOption(j.Specific,T)}let y=An();function S(b){y.update(b)}function R(b){var T;if(!y.wasMoved(b)||e.disabled||(T=o.virtual.value)!=null&&T.disabled(e.value)||s.value)return;let E=o.calculateIndex(e.value);o.goToOption(j.Specific,E,0)}function C(b){var T;y.wasMoved(b)&&(e.disabled||(T=o.virtual.value)!=null&&T.disabled(e.value)||s.value&&(o.optionsPropsRef.value.hold||o.goToOption(j.Nothing)))}return()=>{let{disabled:b}=e,T={active:s.value,selected:c.value,disabled:b},E={id:i,ref:l,role:"option",tabIndex:b===!0?void 0:-1,"aria-disabled":b===!0?!0:void 0,"aria-selected":c.value,disabled:void 0,onMousedown:g,onFocus:m,onPointerenter:S,onMouseenter:S,onPointermove:R,onMousemove:R,onPointerleave:C,onMouseleave:C},f=qe(e,["order","value"]);return we({ourProps:E,theirProps:f,slot:T,attrs:t,slots:n,name:"ComboboxOption"})}}});function L(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var n=e.ownerDocument;return n&&n.defaultView||window}return e}function ae(e){var n=L(e).Element;return e instanceof n||e instanceof Element}function W(e){var n=L(e).HTMLElement;return e instanceof n||e instanceof HTMLElement}function Xe(e){if(typeof ShadowRoot>"u")return!1;var n=L(e).ShadowRoot;return e instanceof n||e instanceof ShadowRoot}var ne=Math.max,Be=Math.min,ue=Math.round;function _e(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(n){return n.brand+"/"+n.version}).join(" "):navigator.userAgent}function Bt(){return!/^((?!chrome|android).)*safari/i.test(_e())}function ce(e,n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var r=e.getBoundingClientRect(),o=1,i=1;n&&W(e)&&(o=e.offsetWidth>0&&ue(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&ue(r.height)/e.offsetHeight||1);var l=ae(e)?L(e):window,a=l.visualViewport,s=!Bt()&&t,c=(r.left+(s&&a?a.offsetLeft:0))/o,u=(r.top+(s&&a?a.offsetTop:0))/i,p=r.width/o,g=r.height/i;return{width:p,height:g,top:u,right:c+p,bottom:u+g,left:c,x:c,y:u}}function Ke(e){var n=L(e),t=n.pageXOffset,r=n.pageYOffset;return{scrollLeft:t,scrollTop:r}}function Vn(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Fn(e){return e===L(e)||!W(e)?Ke(e):Vn(e)}function X(e){return e?(e.nodeName||"").toLowerCase():null}function Q(e){return((ae(e)?e.ownerDocument:e.document)||window.document).documentElement}function Ye(e){return ce(Q(e)).left+Ke(e).scrollLeft}function Y(e){return L(e).getComputedStyle(e)}function Je(e){var n=Y(e),t=n.overflow,r=n.overflowX,o=n.overflowY;return/auto|scroll|overlay|hidden/.test(t+o+r)}function Ln(e){var n=e.getBoundingClientRect(),t=ue(n.width)/e.offsetWidth||1,r=ue(n.height)/e.offsetHeight||1;return t!==1||r!==1}function Nn(e,n,t){t===void 0&&(t=!1);var r=W(n),o=W(n)&&Ln(n),i=Q(n),l=ce(e,o,t),a={scrollLeft:0,scrollTop:0},s={x:0,y:0};return(r||!r&&!t)&&((X(n)!=="body"||Je(i))&&(a=Fn(n)),W(n)?(s=ce(n,!0),s.x+=n.clientLeft,s.y+=n.clientTop):i&&(s.x=Ye(i))),{x:l.left+a.scrollLeft-s.x,y:l.top+a.scrollTop-s.y,width:l.width,height:l.height}}function Ge(e){var n=ce(e),t=e.offsetWidth,r=e.offsetHeight;return Math.abs(n.width-t)<=1&&(t=n.width),Math.abs(n.height-r)<=1&&(r=n.height),{x:e.offsetLeft,y:e.offsetTop,width:t,height:r}}function je(e){return X(e)==="html"?e:e.assignedSlot||e.parentNode||(Xe(e)?e.host:null)||Q(e)}function zt(e){return["html","body","#document"].indexOf(X(e))>=0?e.ownerDocument.body:W(e)&&Je(e)?e:zt(je(e))}function ge(e,n){var t;n===void 0&&(n=[]);var r=zt(e),o=r===((t=e.ownerDocument)==null?void 0:t.body),i=L(r),l=o?[i].concat(i.visualViewport||[],Je(r)?r:[]):r,a=n.concat(l);return o?a:a.concat(ge(je(l)))}function Wn(e){return["table","td","th"].indexOf(X(e))>=0}function bt(e){return!W(e)||Y(e).position==="fixed"?null:e.offsetParent}function Hn(e){var n=/firefox/i.test(_e()),t=/Trident/i.test(_e());if(t&&W(e)){var r=Y(e);if(r.position==="fixed")return null}var o=je(e);for(Xe(o)&&(o=o.host);W(o)&&["html","body"].indexOf(X(o))<0;){var i=Y(o);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||n&&i.willChange==="filter"||n&&i.filter&&i.filter!=="none")return o;o=o.parentNode}return null}function Se(e){for(var n=L(e),t=bt(e);t&&Wn(t)&&Y(t).position==="static";)t=bt(t);return t&&(X(t)==="html"||X(t)==="body"&&Y(t).position==="static")?n:t||Hn(e)||n}var V="top",H="bottom",_="right",F="left",Qe="auto",Ee=[V,H,_,F],de="start",ye="end",_n="clippingParents",jt="viewport",be="popper",Un="reference",gt=Ee.reduce(function(e,n){return e.concat([n+"-"+de,n+"-"+ye])},[]),Vt=[].concat(Ee,[Qe]).reduce(function(e,n){return e.concat([n,n+"-"+de,n+"-"+ye])},[]),qn="beforeRead",Xn="read",Kn="afterRead",Yn="beforeMain",Jn="main",Gn="afterMain",Qn="beforeWrite",Zn="write",eo="afterWrite",to=[qn,Xn,Kn,Yn,Jn,Gn,Qn,Zn,eo];function no(e){var n=new Map,t=new Set,r=[];e.forEach(function(i){n.set(i.name,i)});function o(i){t.add(i.name);var l=[].concat(i.requires||[],i.requiresIfExists||[]);l.forEach(function(a){if(!t.has(a)){var s=n.get(a);s&&o(s)}}),r.push(i)}return e.forEach(function(i){t.has(i.name)||o(i)}),r}function oo(e){var n=no(e);return to.reduce(function(t,r){return t.concat(n.filter(function(o){return o.phase===r}))},[])}function ro(e){var n;return function(){return n||(n=new Promise(function(t){Promise.resolve().then(function(){n=void 0,t(e())})})),n}}function ao(e){var n=e.reduce(function(t,r){var o=t[r.name];return t[r.name]=o?Object.assign({},o,r,{options:Object.assign({},o.options,r.options),data:Object.assign({},o.data,r.data)}):r,t},{});return Object.keys(n).map(function(t){return n[t]})}function io(e,n){var t=L(e),r=Q(e),o=t.visualViewport,i=r.clientWidth,l=r.clientHeight,a=0,s=0;if(o){i=o.width,l=o.height;var c=Bt();(c||!c&&n==="fixed")&&(a=o.offsetLeft,s=o.offsetTop)}return{width:i,height:l,x:a+Ye(e),y:s}}function lo(e){var n,t=Q(e),r=Ke(e),o=(n=e.ownerDocument)==null?void 0:n.body,i=ne(t.scrollWidth,t.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),l=ne(t.scrollHeight,t.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+Ye(e),s=-r.scrollTop;return Y(o||t).direction==="rtl"&&(a+=ne(t.clientWidth,o?o.clientWidth:0)-i),{width:i,height:l,x:a,y:s}}function Ft(e,n){var t=n.getRootNode&&n.getRootNode();if(e.contains(n))return!0;if(t&&Xe(t)){var r=n;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ue(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function so(e,n){var t=ce(e,!1,n==="fixed");return t.top=t.top+e.clientTop,t.left=t.left+e.clientLeft,t.bottom=t.top+e.clientHeight,t.right=t.left+e.clientWidth,t.width=e.clientWidth,t.height=e.clientHeight,t.x=t.left,t.y=t.top,t}function xt(e,n,t){return n===jt?Ue(io(e,t)):ae(n)?so(n,t):Ue(lo(Q(e)))}function uo(e){var n=ge(je(e)),t=["absolute","fixed"].indexOf(Y(e).position)>=0,r=t&&W(e)?Se(e):e;return ae(r)?n.filter(function(o){return ae(o)&&Ft(o,r)&&X(o)!=="body"}):[]}function co(e,n,t,r){var o=n==="clippingParents"?uo(e):[].concat(n),i=[].concat(o,[t]),l=i[0],a=i.reduce(function(s,c){var u=xt(e,c,r);return s.top=ne(u.top,s.top),s.right=Be(u.right,s.right),s.bottom=Be(u.bottom,s.bottom),s.left=ne(u.left,s.left),s},xt(e,l,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function q(e){return e.split("-")[0]}function fe(e){return e.split("-")[1]}function Ze(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Lt(e){var n=e.reference,t=e.element,r=e.placement,o=r?q(r):null,i=r?fe(r):null,l=n.x+n.width/2-t.width/2,a=n.y+n.height/2-t.height/2,s;switch(o){case V:s={x:l,y:n.y-t.height};break;case H:s={x:l,y:n.y+n.height};break;case _:s={x:n.x+n.width,y:a};break;case F:s={x:n.x-t.width,y:a};break;default:s={x:n.x,y:n.y}}var c=o?Ze(o):null;if(c!=null){var u=c==="y"?"height":"width";switch(i){case de:s[c]=s[c]-(n[u]/2-t[u]/2);break;case ye:s[c]=s[c]+(n[u]/2-t[u]/2);break}}return s}function Nt(){return{top:0,right:0,bottom:0,left:0}}function Wt(e){return Object.assign({},Nt(),e)}function Ht(e,n){return n.reduce(function(t,r){return t[r]=e,t},{})}function et(e,n){n===void 0&&(n={});var t=n,r=t.placement,o=r===void 0?e.placement:r,i=t.strategy,l=i===void 0?e.strategy:i,a=t.boundary,s=a===void 0?_n:a,c=t.rootBoundary,u=c===void 0?jt:c,p=t.elementContext,g=p===void 0?be:p,m=t.altBoundary,y=m===void 0?!1:m,S=t.padding,R=S===void 0?0:S,C=Wt(typeof R!="number"?R:Ht(R,Ee)),b=g===be?Un:be,T=e.rects.popper,E=e.elements[y?b:g],f=co(ae(E)?E:E.contextElement||Q(e.elements.popper),s,u,l),x=ce(e.elements.reference),I=Lt({reference:x,element:T,strategy:"absolute",placement:o}),v=Ue(Object.assign({},T,I)),A=g===be?v:x,d={top:f.top-A.top+C.top,bottom:A.bottom-f.bottom+C.bottom,left:f.left-A.left+C.left,right:A.right-f.right+C.right},h=e.modifiersData.offset;if(g===be&&h){var O=h[o];Object.keys(d).forEach(function(w){var P=[_,H].indexOf(w)>=0?1:-1,D=[V,H].indexOf(w)>=0?"y":"x";d[w]+=O[D]*P})}return d}var yt={placement:"bottom",modifiers:[],strategy:"absolute"};function Ot(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return!n.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function fo(e){e===void 0&&(e={});var n=e,t=n.defaultModifiers,r=t===void 0?[]:t,o=n.defaultOptions,i=o===void 0?yt:o;return function(a,s,c){c===void 0&&(c=i);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},yt,i),modifiersData:{},elements:{reference:a,popper:s},attributes:{},styles:{}},p=[],g=!1,m={state:u,setOptions:function(C){var b=typeof C=="function"?C(u.options):C;S(),u.options=Object.assign({},i,u.options,b),u.scrollParents={reference:ae(a)?ge(a):a.contextElement?ge(a.contextElement):[],popper:ge(s)};var T=oo(ao([].concat(r,u.options.modifiers)));return u.orderedModifiers=T.filter(function(E){return E.enabled}),y(),m.update()},forceUpdate:function(){if(!g){var C=u.elements,b=C.reference,T=C.popper;if(Ot(b,T)){u.rects={reference:Nn(b,Se(T),u.options.strategy==="fixed"),popper:Ge(T)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(d){return u.modifiersData[d.name]=Object.assign({},d.data)});for(var E=0;E<u.orderedModifiers.length;E++){if(u.reset===!0){u.reset=!1,E=-1;continue}var f=u.orderedModifiers[E],x=f.fn,I=f.options,v=I===void 0?{}:I,A=f.name;typeof x=="function"&&(u=x({state:u,options:v,name:A,instance:m})||u)}}}},update:ro(function(){return new Promise(function(R){m.forceUpdate(),R(u)})}),destroy:function(){S(),g=!0}};if(!Ot(a,s))return m;m.setOptions(c).then(function(R){!g&&c.onFirstUpdate&&c.onFirstUpdate(R)});function y(){u.orderedModifiers.forEach(function(R){var C=R.name,b=R.options,T=b===void 0?{}:b,E=R.effect;if(typeof E=="function"){var f=E({state:u,name:C,instance:m,options:T}),x=function(){};p.push(f||x)}})}function S(){p.forEach(function(R){return R()}),p=[]}return m}}var Ae={passive:!0};function vo(e){var n=e.state,t=e.instance,r=e.options,o=r.scroll,i=o===void 0?!0:o,l=r.resize,a=l===void 0?!0:l,s=L(n.elements.popper),c=[].concat(n.scrollParents.reference,n.scrollParents.popper);return i&&c.forEach(function(u){u.addEventListener("scroll",t.update,Ae)}),a&&s.addEventListener("resize",t.update,Ae),function(){i&&c.forEach(function(u){u.removeEventListener("scroll",t.update,Ae)}),a&&s.removeEventListener("resize",t.update,Ae)}}const _t={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vo,data:{}};function po(e){var n=e.state,t=e.name;n.modifiersData[t]=Lt({reference:n.rects.reference,element:n.rects.popper,strategy:"absolute",placement:n.placement})}const ho={name:"popperOffsets",enabled:!0,phase:"read",fn:po,data:{}};var mo={top:"auto",right:"auto",bottom:"auto",left:"auto"};function bo(e,n){var t=e.x,r=e.y,o=n.devicePixelRatio||1;return{x:ue(t*o)/o||0,y:ue(r*o)/o||0}}function wt(e){var n,t=e.popper,r=e.popperRect,o=e.placement,i=e.variation,l=e.offsets,a=e.position,s=e.gpuAcceleration,c=e.adaptive,u=e.roundOffsets,p=e.isFixed,g=l.x,m=g===void 0?0:g,y=l.y,S=y===void 0?0:y,R=typeof u=="function"?u({x:m,y:S}):{x:m,y:S};m=R.x,S=R.y;var C=l.hasOwnProperty("x"),b=l.hasOwnProperty("y"),T=F,E=V,f=window;if(c){var x=Se(t),I="clientHeight",v="clientWidth";if(x===L(t)&&(x=Q(t),Y(x).position!=="static"&&a==="absolute"&&(I="scrollHeight",v="scrollWidth")),x=x,o===V||(o===F||o===_)&&i===ye){E=H;var A=p&&x===f&&f.visualViewport?f.visualViewport.height:x[I];S-=A-r.height,S*=s?1:-1}if(o===F||(o===V||o===H)&&i===ye){T=_;var d=p&&x===f&&f.visualViewport?f.visualViewport.width:x[v];m-=d-r.width,m*=s?1:-1}}var h=Object.assign({position:a},c&&mo),O=u===!0?bo({x:m,y:S},L(t)):{x:m,y:S};if(m=O.x,S=O.y,s){var w;return Object.assign({},h,(w={},w[E]=b?"0":"",w[T]=C?"0":"",w.transform=(f.devicePixelRatio||1)<=1?"translate("+m+"px, "+S+"px)":"translate3d("+m+"px, "+S+"px, 0)",w))}return Object.assign({},h,(n={},n[E]=b?S+"px":"",n[T]=C?m+"px":"",n.transform="",n))}function go(e){var n=e.state,t=e.options,r=t.gpuAcceleration,o=r===void 0?!0:r,i=t.adaptive,l=i===void 0?!0:i,a=t.roundOffsets,s=a===void 0?!0:a,c={placement:q(n.placement),variation:fe(n.placement),popper:n.elements.popper,popperRect:n.rects.popper,gpuAcceleration:o,isFixed:n.options.strategy==="fixed"};n.modifiersData.popperOffsets!=null&&(n.styles.popper=Object.assign({},n.styles.popper,wt(Object.assign({},c,{offsets:n.modifiersData.popperOffsets,position:n.options.strategy,adaptive:l,roundOffsets:s})))),n.modifiersData.arrow!=null&&(n.styles.arrow=Object.assign({},n.styles.arrow,wt(Object.assign({},c,{offsets:n.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:s})))),n.attributes.popper=Object.assign({},n.attributes.popper,{"data-popper-placement":n.placement})}const Ut={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:go,data:{}};function xo(e){var n=e.state;Object.keys(n.elements).forEach(function(t){var r=n.styles[t]||{},o=n.attributes[t]||{},i=n.elements[t];!W(i)||!X(i)||(Object.assign(i.style,r),Object.keys(o).forEach(function(l){var a=o[l];a===!1?i.removeAttribute(l):i.setAttribute(l,a===!0?"":a)}))})}function yo(e){var n=e.state,t={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(n.elements.popper.style,t.popper),n.styles=t,n.elements.arrow&&Object.assign(n.elements.arrow.style,t.arrow),function(){Object.keys(n.elements).forEach(function(r){var o=n.elements[r],i=n.attributes[r]||{},l=Object.keys(n.styles.hasOwnProperty(r)?n.styles[r]:t[r]),a=l.reduce(function(s,c){return s[c]="",s},{});!W(o)||!X(o)||(Object.assign(o.style,a),Object.keys(i).forEach(function(s){o.removeAttribute(s)}))})}}const Oo={name:"applyStyles",enabled:!0,phase:"write",fn:xo,effect:yo,requires:["computeStyles"]};var wo=[_t,ho,Ut,Oo],So={left:"right",right:"left",bottom:"top",top:"bottom"};function Pe(e){return e.replace(/left|right|bottom|top/g,function(n){return So[n]})}var Eo={start:"end",end:"start"};function St(e){return e.replace(/start|end/g,function(n){return Eo[n]})}function Ro(e,n){n===void 0&&(n={});var t=n,r=t.placement,o=t.boundary,i=t.rootBoundary,l=t.padding,a=t.flipVariations,s=t.allowedAutoPlacements,c=s===void 0?Vt:s,u=fe(r),p=u?a?gt:gt.filter(function(y){return fe(y)===u}):Ee,g=p.filter(function(y){return c.indexOf(y)>=0});g.length===0&&(g=p);var m=g.reduce(function(y,S){return y[S]=et(e,{placement:S,boundary:o,rootBoundary:i,padding:l})[q(S)],y},{});return Object.keys(m).sort(function(y,S){return m[y]-m[S]})}function Io(e){if(q(e)===Qe)return[];var n=Pe(e);return[St(e),n,St(n)]}function Co(e){var n=e.state,t=e.options,r=e.name;if(!n.modifiersData[r]._skip){for(var o=t.mainAxis,i=o===void 0?!0:o,l=t.altAxis,a=l===void 0?!0:l,s=t.fallbackPlacements,c=t.padding,u=t.boundary,p=t.rootBoundary,g=t.altBoundary,m=t.flipVariations,y=m===void 0?!0:m,S=t.allowedAutoPlacements,R=n.options.placement,C=q(R),b=C===R,T=s||(b||!y?[Pe(R)]:Io(R)),E=[R].concat(T).reduce(function(ie,J){return ie.concat(q(J)===Qe?Ro(n,{placement:J,boundary:u,rootBoundary:p,padding:c,flipVariations:y,allowedAutoPlacements:S}):J)},[]),f=n.rects.reference,x=n.rects.popper,I=new Map,v=!0,A=E[0],d=0;d<E.length;d++){var h=E[d],O=q(h),w=fe(h)===de,P=[V,H].indexOf(O)>=0,D=P?"width":"height",k=et(n,{placement:h,boundary:u,rootBoundary:p,altBoundary:g,padding:c}),z=P?w?_:F:w?H:V;f[D]>x[D]&&(z=Pe(z));var U=Pe(z),K=[];if(i&&K.push(k[O]<=0),a&&K.push(k[z]<=0,k[U]<=0),K.every(function(ie){return ie})){A=h,v=!1;break}I.set(h,K)}if(v)for(var Re=y?3:1,Ve=function(J){var me=E.find(function(Ce){var Z=I.get(Ce);if(Z)return Z.slice(0,J).every(function(Fe){return Fe})});if(me)return A=me,"break"},he=Re;he>0;he--){var Ie=Ve(he);if(Ie==="break")break}n.placement!==A&&(n.modifiersData[r]._skip=!0,n.placement=A,n.reset=!0)}}const To={name:"flip",enabled:!0,phase:"main",fn:Co,requiresIfExists:["offset"],data:{_skip:!1}};function Ao(e,n,t){var r=q(e),o=[F,V].indexOf(r)>=0?-1:1,i=typeof t=="function"?t(Object.assign({},n,{placement:e})):t,l=i[0],a=i[1];return l=l||0,a=(a||0)*o,[F,_].indexOf(r)>=0?{x:a,y:l}:{x:l,y:a}}function Mo(e){var n=e.state,t=e.options,r=e.name,o=t.offset,i=o===void 0?[0,0]:o,l=Vt.reduce(function(u,p){return u[p]=Ao(p,n.rects,i),u},{}),a=l[n.placement],s=a.x,c=a.y;n.modifiersData.popperOffsets!=null&&(n.modifiersData.popperOffsets.x+=s,n.modifiersData.popperOffsets.y+=c),n.modifiersData[r]=l}const Po={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mo};function Do(e){return e==="x"?"y":"x"}function xe(e,n,t){return ne(e,Be(n,t))}function $o(e,n,t){var r=xe(e,n,t);return r>t?t:r}function ko(e){var n=e.state,t=e.options,r=e.name,o=t.mainAxis,i=o===void 0?!0:o,l=t.altAxis,a=l===void 0?!1:l,s=t.boundary,c=t.rootBoundary,u=t.altBoundary,p=t.padding,g=t.tether,m=g===void 0?!0:g,y=t.tetherOffset,S=y===void 0?0:y,R=et(n,{boundary:s,rootBoundary:c,padding:p,altBoundary:u}),C=q(n.placement),b=fe(n.placement),T=!b,E=Ze(C),f=Do(E),x=n.modifiersData.popperOffsets,I=n.rects.reference,v=n.rects.popper,A=typeof S=="function"?S(Object.assign({},n.rects,{placement:n.placement})):S,d=typeof A=="number"?{mainAxis:A,altAxis:A}:Object.assign({mainAxis:0,altAxis:0},A),h=n.modifiersData.offset?n.modifiersData.offset[n.placement]:null,O={x:0,y:0};if(x){if(i){var w,P=E==="y"?V:F,D=E==="y"?H:_,k=E==="y"?"height":"width",z=x[E],U=z+R[P],K=z-R[D],Re=m?-v[k]/2:0,Ve=b===de?I[k]:v[k],he=b===de?-v[k]:-I[k],Ie=n.elements.arrow,ie=m&&Ie?Ge(Ie):{width:0,height:0},J=n.modifiersData["arrow#persistent"]?n.modifiersData["arrow#persistent"].padding:Nt(),me=J[P],Ce=J[D],Z=xe(0,I[k],ie[k]),Fe=T?I[k]/2-Re-Z-me-d.mainAxis:Ve-Z-me-d.mainAxis,qt=T?-I[k]/2+Re+Z+Ce+d.mainAxis:he+Z+Ce+d.mainAxis,Le=n.elements.arrow&&Se(n.elements.arrow),Xt=Le?E==="y"?Le.clientTop||0:Le.clientLeft||0:0,tt=(w=h==null?void 0:h[E])!=null?w:0,Kt=z+Fe-tt-Xt,Yt=z+qt-tt,nt=xe(m?Be(U,Kt):U,z,m?ne(K,Yt):K);x[E]=nt,O[E]=nt-z}if(a){var ot,Jt=E==="x"?V:F,Gt=E==="x"?H:_,ee=x[f],Te=f==="y"?"height":"width",rt=ee+R[Jt],at=ee-R[Gt],Ne=[V,F].indexOf(C)!==-1,it=(ot=h==null?void 0:h[f])!=null?ot:0,lt=Ne?rt:ee-I[Te]-v[Te]-it+d.altAxis,st=Ne?ee+I[Te]+v[Te]-it-d.altAxis:at,ut=m&&Ne?$o(lt,ee,st):xe(m?lt:rt,ee,m?st:at);x[f]=ut,O[f]=ut-ee}n.modifiersData[r]=O}}const Bo={name:"preventOverflow",enabled:!0,phase:"main",fn:ko,requiresIfExists:["offset"]};var zo=function(n,t){return n=typeof n=="function"?n(Object.assign({},t.rects,{placement:t.placement})):n,Wt(typeof n!="number"?n:Ht(n,Ee))};function jo(e){var n,t=e.state,r=e.name,o=e.options,i=t.elements.arrow,l=t.modifiersData.popperOffsets,a=q(t.placement),s=Ze(a),c=[F,_].indexOf(a)>=0,u=c?"height":"width";if(!(!i||!l)){var p=zo(o.padding,t),g=Ge(i),m=s==="y"?V:F,y=s==="y"?H:_,S=t.rects.reference[u]+t.rects.reference[s]-l[s]-t.rects.popper[u],R=l[s]-t.rects.reference[s],C=Se(i),b=C?s==="y"?C.clientHeight||0:C.clientWidth||0:0,T=S/2-R/2,E=p[m],f=b-g[u]-p[y],x=b/2-g[u]/2+T,I=xe(E,x,f),v=s;t.modifiersData[r]=(n={},n[v]=I,n.centerOffset=I-x,n)}}function Vo(e){var n=e.state,t=e.options,r=t.element,o=r===void 0?"[data-popper-arrow]":r;o!=null&&(typeof o=="string"&&(o=n.elements.popper.querySelector(o),!o)||Ft(n.elements.popper,o)&&(n.elements.arrow=o))}const Fo={name:"arrow",enabled:!0,phase:"main",fn:jo,effect:Vo,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]},Lo=fo({defaultModifiers:[...wo,Po,To,Bo,Ut,_t,Fo]});function Yo({locked:e=!1,overflowPadding:n=8,offsetDistance:t=8,offsetSkid:r=0,gpuAcceleration:o=!0,adaptive:i=!0,scroll:l=!0,resize:a=!0,arrow:s=!1,placement:c,strategy:u},p){const g=B(null),m=B(null),y=B(null);return Oe(()=>{re(S=>{if(!m.value||!g.value&&!(p!=null&&p.value))return;const R=ft(m),C=ft(g);if(!(R instanceof HTMLElement)||!C)return;const b={modifiers:[{name:"flip",enabled:!e},{name:"preventOverflow",options:{padding:n}},{name:"offset",options:{offset:[r,t]}},{name:"computeStyles",options:{adaptive:i,gpuAcceleration:o}},{name:"eventListeners",options:{scroll:l,resize:a}},{name:"arrow",enabled:s}]};c&&(b.placement=c),u&&(b.strategy=u),y.value=Lo(C,R,b),S(y.value.destroy)})}),[g,m,y]}export{Yo as a,An as b,j as c,Rn as d,Mt as e,mt as f,qo as i,_o as l,Uo as n,Ko as r,Tn as s,Xo as u};
