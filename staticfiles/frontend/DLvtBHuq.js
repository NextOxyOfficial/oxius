import{_ as B}from"./BCQJG_Oq.js";import{_ as G}from"./DNxVGkmg.js";import{_ as P}from"./1e_OgHv1.js";import{_ as $}from"./whb824ZH.js";import{_ as D}from"./CtEReCdd.js";import{_ as F}from"./hFEWv2RF.js";import{_ as I}from"./8uu4DbCJ.js";import{_ as M}from"./D6fuHc-1.js";import{_ as N}from"./B3CiF0uY.js";import{a as S}from"./BV2_MSoD.js";import{u as j}from"./BVROmUMH.js";import{r as m,k as E,f as L,w as s,o as g,b as t,a as i,h as o,t as Q,c as w,G as H,F as J,j as K,n as O}from"./DStkSF2J.js";import"./ClWK6Wa4.js";import"./DWroXZBg.js";import"./xqgN8d_2.js";import"./Chyrqj9S.js";import"./PJp5FNsK.js";import"./DQnXjg0H.js";import"./BwxCvApI.js";import"./DnH1ldC5.js";import"./BDRGNAdl.js";import"./jtrurJ-I.js";const W=i("h1",{class:"text-center text-4xl my-8"},"Post A Gig",-1),X=i("span",{class:"absolute left-2 top-2"},"I Need",-1),Y={class:"flex gap-4 items-center"},Z=i("p",null,"=",-1),ee={class:"flex flex-wrap gap-5"},te=["src","alt"],oe=["onClick"],le={class:"w-full h-full border flex items-center justify-center max-w-[200px] max-h-[200px] relative"},ae={class:"grid md:grid-cols-2 gap-4"},ie={class:"grid md:grid-cols-2 gap-4"},se={class:"text-center"},Ae={__name:"post-a-gig",setup(re){const{get:c,post:h}=S(),V=j(),f=m([]),x=m([]),b=m([]),v=m([]),e=m({price:0,required_quantity:0,instructions:"",title:"",medias:[],target_country:"",target_device:"",target_network:"",category:""});function U(n,l){const d=Array.from(n.target.files),u=new FileReader;u.onload=()=>{e.value.medias.push(u.result)},u.onerror=r=>reject(r),u.readAsDataURL(d[0])}function z(n){n>=0&&n<e.value.medias.length&&e.value.medias.splice(n,1)}async function k(){console.log(e.value),(await h("/post-micro-gigs/",e.value)).data&&(O("/"),V.add({title:"MicroGig Added"}))}async function T(){try{const[n,l,d,u]=await Promise.all([c("/micro-gigs-categories/"),c("/target-device/"),c("/target-network/"),c("/target-country/")]);f.value=n.data,b.value=l.data,x.value=d.data,v.value=u.data}catch(n){console.error("Error fetching micro-gigs data:",n)}}return E(()=>{T()}),(n,l)=>{const d=B,u=G,r=P,C=$,y=D,p=F,q=I,R=M,A=N;return g(),L(A,null,{default:s(()=>[t(R,null,{default:s(()=>[W,t(d,{label:"",class:"mb-8"}),i("form",{action:"#",class:"max-w-2xl mx-auto space-y-3",onSubmit:K(k,["prevent"])},[t(r,{label:"Title"},{default:s(()=>[t(u,{type:"text",size:"md",color:"white",class:"relative",placeholder:"Title",modelValue:o(e).title,"onUpdate:modelValue":l[0]||(l[0]=a=>o(e).title=a),ui:{size:{md:"text-base"},padding:{md:"pl-[60px]"}}},{default:s(()=>[X]),_:1},8,["modelValue"])]),_:1}),i("div",Y,[t(r,{label:"Budget Per Action"},{default:s(()=>[t(u,{icon:"i-mdi:currency-bdt",type:"text",size:"md",color:"white",ui:{size:{md:"text-base"}},placeholder:"2.0",class:"max-w-40",modelValue:o(e).price,"onUpdate:modelValue":l[1]||(l[1]=a=>o(e).price=a)},null,8,["modelValue"])]),_:1}),t(r,{label:"Required Quantity"},{default:s(()=>[t(u,{type:"text",size:"md",color:"white",ui:{size:{md:"text-base"}},placeholder:"10",class:"max-w-40",modelValue:o(e).required_quantity,"onUpdate:modelValue":l[2]||(l[2]=a=>o(e).required_quantity=a)},null,8,["modelValue"])]),_:1}),t(r,{label:"*"},{default:s(()=>[Z]),_:1}),t(r,{label:"Total Cost"},{default:s(()=>[i("p",null,Q(o(e).price*o(e).required_quantity),1)]),_:1})]),t(r,{label:"Instructions"},{default:s(()=>[t(C,{color:"white",variant:"outline",ui:{size:{md:"text-base"}},class:"w-full",resize:"",placeholder:"Instructions",modelValue:o(e).instructions,"onUpdate:modelValue":l[3]||(l[3]=a=>o(e).instructions=a)},null,8,["modelValue"])]),_:1}),i("div",ee,[(g(!0),w(J,null,H(o(e).medias,(a,_)=>(g(),w("div",{class:"relative max-w-[200px] max-h-[200px]",key:_},[i("img",{src:a,alt:`Uploaded file ${_}`},null,8,te),i("div",{class:"absolute top-2 right-2 rounded-sm bg-white cursor-pointer",onClick:ne=>z(_)},[t(y,{name:"i-heroicons-trash-solid",class:"text-red-500"})],8,oe)]))),128)),i("div",le,[i("input",{type:"file",name:"",id:"",class:"h-full w-full absolute left-0 top-0 z-10 cursor-pointer opacity-0",onChange:l[4]||(l[4]=a=>U(a,"image"))},null,32),t(y,{name:"i-heroicons-plus-solid",size:"66"})])]),i("div",ae,[t(r,{label:"Target Country"},{default:s(()=>[t(p,{modelValue:o(e).target_country,"onUpdate:modelValue":l[5]||(l[5]=a=>o(e).target_country=a),color:"white",size:"md",placeholder:"Target Country",options:o(v),multiple:"",ui:{size:{md:"text-base"}},"option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1}),t(r,{label:"Target Device"},{default:s(()=>[t(p,{modelValue:o(e).target_device,"onUpdate:modelValue":l[6]||(l[6]=a=>o(e).target_device=a),color:"white",size:"md",placeholder:"Target Device",multiple:"",options:o(b),ui:{size:{md:"text-base"}},"option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1})]),i("div",ie,[t(r,{label:"Target Network"},{default:s(()=>[t(p,{modelValue:o(e).target_network,"onUpdate:modelValue":l[7]||(l[7]=a=>o(e).target_network=a),size:"md",ui:{size:{md:"text-base"}},options:o(x),multiple:"",placeholder:"Target Network","option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1}),t(r,{label:"Category"},{default:s(()=>[t(p,{modelValue:o(e).category,"onUpdate:modelValue":l[8]||(l[8]=a=>o(e).category=a),color:"white",size:"md",options:o(f),placeholder:"Target Category",ui:{size:{md:"text-base"}},"option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1})]),i("div",se,[t(q,{class:"px-8 mt-10",size:"lg",color:"primary",variant:"solid",label:"Post",type:"submit"})])],32)]),_:1})]),_:1})}}};export{Ae as default};
