import{_ as B}from"./BCQJG_Oq.js";import{_ as D}from"./DNxVGkmg.js";import{_ as P}from"./1e_OgHv1.js";import{_ as $}from"./whb824ZH.js";import{_ as A}from"./hFEWv2RF.js";import{_ as F}from"./8uu4DbCJ.js";import{_ as M}from"./D6fuHc-1.js";import{_ as N}from"./B3CiF0uY.js";import{a as I}from"./BV2_MSoD.js";import{u as S}from"./BVROmUMH.js";import{r as c,D as j,k as L,f as E,w as s,o as _,b as a,a as r,h as e,t as Q,c as w,G as H,F as J,j as K,n as O}from"./DStkSF2J.js";import"./CtEReCdd.js";import"./DQnXjg0H.js";import"./ClWK6Wa4.js";import"./DWroXZBg.js";import"./xqgN8d_2.js";import"./Chyrqj9S.js";import"./PJp5FNsK.js";import"./BwxCvApI.js";import"./DnH1ldC5.js";import"./BDRGNAdl.js";import"./jtrurJ-I.js";const W=r("h1",{class:"text-center text-4xl my-8"},"Post A Gig",-1),X=r("span",{class:"absolute left-2 top-2"},"I Need",-1),Y={class:"flex gap-4 items-center"},Z=r("p",null,"=",-1),ee={class:"flex flex-wrap gap-5"},te=["src","alt"],oe={class:"w-full h-full border flex items-center justify-center max-w-[200px] max-h-[200px] relative"},ae={class:"grid md:grid-cols-2 gap-4"},le={class:"grid md:grid-cols-2 gap-4"},ie={class:"text-center"},Ce={__name:"[id]",setup(se){const{get:d,post:re,put:V,staticURL:h}=I(),U=S(),g=c([]),f=c([]),x=c([]),b=c([]),v=j(),t=c({price:0,required_quantity:0,instructions:"",image:null,medias:[],target_country:"",target_device:"",target_network:"",category:""});function z(u,o){const m=Array.from(u.target.files),n=new FileReader;n.onload=()=>{t.value.medias.push(n.result)},n.onerror=i=>reject(i),n.readAsDataURL(m[0])}async function k(){console.log(t.value),(await V(`/update-user-micro-gig/${v.params.id}/`,t.value)).data&&(O("/"),U.add({title:"MicroGig Updated"}))}async function T(){try{const[u,o,m,n,i]=await Promise.all([d("/micro-gigs-categories/"),d("/target-device/"),d("/target-network/"),d("/target-country/"),d(`/get-user-micro-gig/${v.params.id}/`)]);g.value=u.data,x.value=o.data,f.value=m.data,b.value=n.data,t.value=i.data,console.log(i.data)}catch(u){console.error("Error fetching micro-gigs data:",u)}}return L(()=>{T()}),(u,o)=>{const m=B,n=D,i=P,R=$,p=A,q=F,C=M,G=N;return _(),E(G,null,{default:s(()=>[a(C,null,{default:s(()=>[W,a(m,{label:"",class:"mb-8"}),r("form",{action:"#",class:"max-w-2xl mx-auto space-y-3",onSubmit:K(k,["prevent"])},[a(i,{label:"Title"},{default:s(()=>[a(n,{type:"text",size:"md",color:"white",class:"relative",placeholder:"Title",modelValue:e(t).title,"onUpdate:modelValue":o[0]||(o[0]=l=>e(t).title=l),ui:{size:{md:"text-base"},padding:{md:"pl-[60px]"}}},{default:s(()=>[X]),_:1},8,["modelValue"])]),_:1}),r("div",Y,[a(i,{label:"Budget Per Action"},{default:s(()=>[a(n,{icon:"i-mdi:currency-bdt",type:"text",size:"md",color:"white",ui:{size:{md:"text-base"}},placeholder:"2.0",class:"max-w-40",modelValue:e(t).price,"onUpdate:modelValue":o[1]||(o[1]=l=>e(t).price=l)},null,8,["modelValue"])]),_:1}),a(i,{label:"Required Quantity"},{default:s(()=>[a(n,{type:"text",size:"md",color:"white",ui:{size:{md:"text-base"}},placeholder:"10",class:"max-w-40",modelValue:e(t).required_quantity,"onUpdate:modelValue":o[2]||(o[2]=l=>e(t).required_quantity=l)},null,8,["modelValue"])]),_:1}),a(i,{label:"*"},{default:s(()=>[Z]),_:1}),a(i,{label:"Total Cost"},{default:s(()=>[r("p",null,Q(e(t).price*e(t).required_quantity),1)]),_:1})]),a(i,{label:"Instructions"},{default:s(()=>[a(R,{color:"white",variant:"outline",ui:{size:{md:"text-base"}},class:"w-full",resize:"",placeholder:"Instructions",modelValue:e(t).instructions,"onUpdate:modelValue":o[3]||(o[3]=l=>e(t).instructions=l)},null,8,["modelValue"])]),_:1}),r("div",ee,[(_(!0),w(J,null,H(e(t).medias,(l,y)=>(_(),w("div",{class:"relative max-w-[200px] max-h-[200px]",key:y},[r("img",{src:e(h)+l.image,alt:`Uploaded file ${y}`},null,8,te)]))),128)),r("div",oe,[r("input",{type:"file",name:"",id:"",class:"h-full w-full absolute left-0 top-0 z-10 cursor-pointer opacity-0",onChange:o[4]||(o[4]=l=>z(l,"image"))},null,32)])]),r("div",ae,[a(i,{label:"Target Country"},{default:s(()=>[a(p,{modelValue:e(t).target_country,"onUpdate:modelValue":o[5]||(o[5]=l=>e(t).target_country=l),color:"white",size:"md",placeholder:"Target Country",options:e(b),multiple:"",ui:{size:{md:"text-base"}},"option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1}),a(i,{label:"Target Device"},{default:s(()=>[a(p,{modelValue:e(t).target_device,"onUpdate:modelValue":o[6]||(o[6]=l=>e(t).target_device=l),color:"white",size:"md",placeholder:"Target Device",multiple:"",options:e(x),ui:{size:{md:"text-base"}},"option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1})]),r("div",le,[a(i,{label:"Target Network"},{default:s(()=>[a(p,{modelValue:e(t).target_network,"onUpdate:modelValue":o[7]||(o[7]=l=>e(t).target_network=l),size:"md",ui:{size:{md:"text-base"}},options:e(f),multiple:"",placeholder:"Target Network","option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1}),a(i,{label:"Category"},{default:s(()=>[a(p,{modelValue:e(t).category,"onUpdate:modelValue":o[8]||(o[8]=l=>e(t).category=l),color:"white",size:"md",options:e(g),placeholder:"Target Category",ui:{size:{md:"text-base"}},"option-attribute":"title","value-attribute":"id"},null,8,["modelValue","options"])]),_:1})]),r("div",ie,[a(q,{class:"px-8 mt-10",size:"lg",color:"primary",variant:"solid",label:"Post",type:"submit"})])],32)]),_:1})]),_:1})}}};export{Ce as default};
