import{_ as z}from"./BCQJG_Oq.js";import{_ as N}from"./DNxVGkmg.js";import{_ as k}from"./1e_OgHv1.js";import{_ as B}from"./whb824ZH.js";import{_ as C}from"./8uu4DbCJ.js";import{_ as P}from"./D6fuHc-1.js";import{_ as S}from"./CvtyoVuw.js";import{_ as $}from"./CtEReCdd.js";import{_ as A}from"./B3CiF0uY.js";import{r as F,k as D,f as _,w as m,o as u,b as o,a as n,h as l,j as E,c,l as I}from"./DStkSF2J.js";import{a as L}from"./BV2_MSoD.js";import{u as M}from"./Vq-mM5X0.js";import{u as j}from"./BVROmUMH.js";import"./ClWK6Wa4.js";import"./DWroXZBg.js";import"./xqgN8d_2.js";import"./Chyrqj9S.js";import"./PJp5FNsK.js";import"./jtrurJ-I.js";import"./DQnXjg0H.js";const T=n("h1",{class:"text-center text-4xl my-8"},"My Profile Details",-1),Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},G={class:"col-span-2"},q=n("div",null,null,-1),H={class:"text-center mt-12"},J={key:1},K={key:0,class:"h-screen w-screen flex items-center justify-center"},xe={__name:"index",setup(O){const{get:f,put:x,patch:Q}=L(),{user:p}=M(),e=F({});j(),console.log(p.value);async function V(){const r=await f(`/persons/${p.value.user.email}/`);e.value=r.data}D(()=>{V()});async function y(){const{groups:r,user_permissions:t,...d}=e.value;console.log(d);const s=await x(`/persons/update/${e.value.email}/`,d);console.log(s,"result"),e.value=s.data}return(r,t)=>{const d=z,s=N,i=k,v=B,h=C,w=P,b=S,U=$,g=A;return u(),_(g,null,{default:m(()=>[r.loading?(u(),c("div",J,[o(b,{class:"!opacity-[1]"}),l(p)?I("",!0):(u(),c("section",K,[o(U,{name:"svg-spinners:bars-scale-middle",dynamic:"",class:"text-xl w-12 h-12 text-primary"})]))])):(u(),_(w,{key:0},{default:m(()=>[T,o(d,{label:"",class:"mb-8"}),n("form",{action:"#",class:"max-w-lg mx-auto",onSubmit:E(y,["prevent"])},[n("div",Z,[n("div",null,[o(i,{label:"First Name"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"First Name",modelValue:l(e).first_name,"onUpdate:modelValue":t[0]||(t[0]=a=>l(e).first_name=a)},null,8,["modelValue"])]),_:1})]),n("div",null,[o(i,{label:"Last Name"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"Last Name",modelValue:l(e).last_name,"onUpdate:modelValue":t[1]||(t[1]=a=>l(e).last_name=a)},null,8,["modelValue"])]),_:1})]),n("div",G,[o(i,{label:"Address"},{default:m(()=>[o(v,{color:"white",variant:"outline",class:"w-full",resize:"",placeholder:"Address",modelValue:l(e).address,"onUpdate:modelValue":t[2]||(t[2]=a=>l(e).address=a)},null,8,["modelValue"])]),_:1})]),n("div",null,[o(i,{label:"City"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"City",modelValue:l(e).city,"onUpdate:modelValue":t[3]||(t[3]=a=>l(e).city=a)},null,8,["modelValue"])]),_:1})]),n("div",null,[o(i,{label:"State"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"State",modelValue:l(e).state,"onUpdate:modelValue":t[4]||(t[4]=a=>l(e).state=a)},null,8,["modelValue"])]),_:1})]),n("div",null,[o(i,{label:"Zip"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"Zip",modelValue:l(e).zip,"onUpdate:modelValue":t[5]||(t[5]=a=>l(e).zip=a)},null,8,["modelValue"])]),_:1})]),q,n("div",null,[o(i,{label:"Phone"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"Phone",modelValue:l(e).phone,"onUpdate:modelValue":t[6]||(t[6]=a=>l(e).phone=a)},null,8,["modelValue"])]),_:1})]),n("div",null,[o(i,{label:"Email"},{default:m(()=>[o(s,{type:"text",size:"md",color:"white",placeholder:"Email",modelValue:l(e).email,"onUpdate:modelValue":t[7]||(t[7]=a=>l(e).email=a),readonly:""},null,8,["modelValue"])]),_:1})])]),n("div",H,[o(h,{class:"px-8",size:"lg",color:"primary",variant:"solid",label:"Save",type:"submit"})])],32)]),_:1}))]),_:1})}}};export{xe as default};
